# Language setting
language: node_js

env:
  - PORT=8080

build:
  # pre_ci_boot:
  #   image_name: angrypotato/learning_phaser
  #   image_tag: latest
  #   pull: true
  #   options: '--privileged=true --net=bridge -e PORT=8080'

  pre_ci:
    - echo "this is master branch"

  ci:
    - npm install
    - npm test

  post_ci:
    - ls -a
    - pwd

  on_success:
    - git push -f https://git.heroku.com/aqueous-gorge-66257.git master

  cache: true

  cache_dir_list:
    - $SHIPPABLE_BUILD_DIR/node_modules
